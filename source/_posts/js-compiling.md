---
title: js 代码的编译执行过程
date: 2022-01-10 23:12:38
tags: [javascript]
---
![](https://cdn.jsdelivr.net/gh/Flower-F/picture@main/img/20220110231718.png)

整个过程主要分为以下几个步骤：
1. 词法分析，该步骤是将一行行的源码拆解成一个个 token（token 指的是语法上不可能再分的、最小的单个字符或字符串）
2. 语法分析，其作用是将生成的 token 数据根据语法规则转换为 AST
3. 有了 AST 后，V8 就会生成该段代码的执行上下文
4. 解释器根据 AST 生成字节码（字节码是介于 AST 和机器码之间的一种代码）
5. 生成字节码之后进行执行阶段，解释器会逐条解释执行。在执行字节码的过程中，如果发现热点代码（例如一段代码被重复执行多次），后台的编译器就会把这段热点的字节码编译为高效的机器码，然后再次执行这段优化的代码时，只需执行编译后的机器码即可，提升代码的执行效率。

转载自公众号前端点线面