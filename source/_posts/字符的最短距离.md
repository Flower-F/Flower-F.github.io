---
title: 字符的最短距离
date: 2021-12-13 10:37:03
tags: [算法, leetcode]
copyright: true
---
题目链接：
https://leetcode-cn.com/problems/shortest-distance-to-a-character/
解法分析：
1. 我的解法
    使用双指针，因为对于一个点来说，影响距离的字符 c 最多只有两个（当两个 c 在该点的不同方向）。
    ```ts
        function shortestToChar(s: string, c: string): number[] {
        const arr: number[] = [];
        for (let i = 0; i < s.length; i++) {
            if (s[i] === c) {
                arr.push(i);
            }
        }

        const res: number[] = [];
        let cur = 0; // 当前选择的下标
        let index1, index2;
        if (arr.length === 1) {
            index1 = index2 = arr[0];
        } else {
            index1 = arr[cur], index2 = arr[++cur];
        }

        for (let i = 0; i < s.length; i++) {
            if (i > index2 && cur + 1 <= arr.length - 1) {
                index1 = index2;
                index2 = arr[++cur];
            }

            const dist1 = Math.abs(index1 - i);
            const dist2 = Math.abs(index2 - i);
            res.push(Math.min(dist1, dist2));
        }

        return res;
    };
    ```

2. 官方解法（妙）
    先从前往后遍历，再从后往前遍历
    ```ts
    function shortestToChar(s: string, c: string): number[] {
        const len = s.length;
        const res: number[] = [];

        let prev = Number.MIN_SAFE_INTEGER;
        for(let i = 0; i < len; i++) {
            if(s[i] === c) {
                prev = i;
            }
            res[i] = i - prev;
        }

        let next = Number.MAX_SAFE_INTEGER;
        for(let i = len - 1; i >= 0; i--) {
            if(s[i] === c) {
                next = i;
            }
            res[i] = Math.min(res[i], next - i);
        }

        return res;
    };
    ```
